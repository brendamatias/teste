<p-confirmDialog></p-confirmDialog>

<div class="grid">
  <div class="col-12">
    <div class="card">
      <div class="flex flex-row-reverse flex-wrap">
        <button
          pButton
          pRipple
          icon="pi pi-plus"
          type="button"
          label="Incluir"
          class="p-button-success m-2"
          [routerLink]="['form']"
        ></button>
      </div>      

      <p-table #table [value]="list" dataKey="id">
        <ng-template pTemplate="header">
          <tr>
            <th scope="column">Nome</th>
            <th scope="column">Descrição</th>
            <th scope="column">Status</th>
            <th scope="column">Ações</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-l let-expanded="expanded">
          <tr>
            <td style="min-width: 12rem">{{ l.name }}</td>
            <td style="min-width: 12rem">{{ l.description }}</td>
            <td style="min-width: 12rem">{{ l.status == 'active' ? 'Ativo' : 'Inativado' }}</td>
            <td>
              <div class="flex flex-row-reverse flex-wrap">
                <button
                  pButton
                  pRipple
                  [icon]="l.status == 'active' ? 'pi pi-eye-slash' : 'pi pi-eye'"
                  type="button"
                  class="p-button p-button-text"
                  (click)="archive($event, l)"
                ></button>
                <button
                  pButton
                  pRipple
                  icon="pi pi-file-edit"
                  type="button"
                  class="p-button p-button-text"
                  [routerLink]="['form', { id: l.id }]"
                ></button>
              </div>
            </td>
          </tr>
        </ng-template>
      </p-table>
    </div>
  </div>
</div>
